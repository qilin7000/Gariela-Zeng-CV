<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Gabriela Zeng CV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root { color-scheme: light; }
    * { box-sizing: border-box; }

    body {
      font-family: Arial, sans-serif;
      background-color: #f6f7f9;
      margin: 0;
    }

    .page {
      max-width: 900px;
      margin: 0 auto;
      padding: clamp(12px, 4vw, 32px);
      text-align: center;
    }

    h1 {
      color: #333;
      margin: 8px 0 14px;
      line-height: 1.2;
    }

    .actions {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
      justify-items: center;
      margin-bottom: 14px;
    }

    .button {
      display: inline-block;
      background-color: #007bff;
      color: #fff;
      padding: 12px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
      border: none;
      width: min(420px, 92%);
    }
    .button.secondary { background-color: #4a5568; }
    .button:hover { filter: brightness(0.92); }

    .viewer {
      width: 100%;
      margin: 0 auto;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      overflow: hidden;
    }

    /* é¢„è§ˆé«˜åº¦ï¼šæ¡Œé¢æ›´é«˜ï¼Œæ‰‹æœºç•¥æ”¶ä¸€ç‚¹ï¼Œé¿å…è¿‡æ»¡ */
    iframe {
      display: block;
      width: 100%;
      height: 78vh;
      border: none;
      background: #fff;
    }
    @media (max-width: 640px) {
      iframe { height: 66vh; }
    }
  </style>
</head>
<body>
  <div class="page">
    <h1>Gabriela Zeng CV</h1>

    <div class="actions">
      <!-- new tab æ‰“å¼€ï¼ˆæ‰‹æœºä½“éªŒæœ€å¥½ï¼‰ -->
      <a id="openTab" class="button secondary" href="Gabriela_Zeng_CV.pdf" target="_blank" rel="noopener">
        ğŸ”— open pdf in a new tab
      </a>
      <!-- ä¸€é”®ä¸‹è½½ï¼ˆè·¨æµè§ˆå™¨å¯é ï¼‰ -->
      <button id="downloadBtn" class="button">ğŸ“„ download resume (pdf)</button>
    </div>

    <!-- å†…åµŒé¢„è§ˆï¼ˆæ¡Œé¢ç›´æ¥ç”¨åŸç”Ÿ PDFï¼›ç§»åŠ¨ç«¯è‡ªåŠ¨åˆ‡æ¢ä¸º Google Docs Viewerï¼‰ -->
    <div class="viewer">
      <iframe id="pdfFrame" title="Gabriela_Zeng_CV"></iframe>
    </div>
  </div>

  <script>
    // ä½ çš„ pdf æ–‡ä»¶åï¼ˆè‹¥å˜æ›´ï¼Œè¿™é‡Œå’Œä¸Šé¢çš„ href ä¹Ÿè¦åŒæ­¥æ”¹ï¼‰
    const PDF_NAME = 'Gabriela_Zeng_CV.pdf';

    // ç”Ÿæˆç»å¯¹åœ°å€ï¼Œä¾¿äºç»™ Google Docs Viewer ä½¿ç”¨
    const pdfAbsoluteURL = new URL(PDF_NAME, window.location.href).href;

    // åˆ¤æ–­æ˜¯å¦ä¸ºç§»åŠ¨ç«¯
    const IS_MOBILE = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

    // è®¾ç½® iframe æºï¼šæ¡Œé¢ç”¨åŸç”Ÿ pdfï¼Œæ‰‹æœºç”¨ Google Docs Viewerï¼ˆæ›´ç¨³ï¼‰
    const iframe = document.getElementById('pdfFrame');
    if (IS_MOBILE) {
      iframe.src = 'https://drive.google.com/viewerng/viewer?embedded=true&url=' + encodeURIComponent(pdfAbsoluteURL);
    } else {
      iframe.src = PDF_NAME;
    }

    // å¼ºåˆ¶ä¸‹è½½ï¼ˆè§£å†³éƒ¨åˆ†æµè§ˆå™¨å¿½ç•¥ <a download> çš„é—®é¢˜ï¼‰
    document.getElementById('downloadBtn').addEventListener('click', async () => {
      try {
        const resp = await fetch(PDF_NAME, { cache: 'no-store' });
        if (!resp.ok) throw new Error('file not found');
        const blob = await resp.blob();
        const url = URL.createObjectURL(blob);

        const a = document.createElement('a');
        a.href = url;
        a.download = 'Gabriela_Zeng_CV.pdf'; // ä¿å­˜æ—¶çš„é»˜è®¤æ–‡ä»¶å
        document.body.appendChild(a);
        a.click();
        a.remove();
        URL.revokeObjectURL(url);
      } catch (err) {
        alert('file not found. please check the pdf name or path.');
        console.error(err);
      }
    });

    // åŒæ­¥â€œopen in new tabâ€çš„é“¾æ¥åˆ°ç»å¯¹åœ°å€ï¼ˆæ›´ç¨³ï¼‰
    const openTabLink = document.getElementById('openTab');
    openTabLink.href = pdfAbsoluteURL;
  </script>
</body>
</html>



